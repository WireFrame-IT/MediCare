<h2 class="title" mat-dialog-title>Lek</h2>
<form class="form" [formGroup]="medicamentForm" (ngSubmit)="onSubmit()">
  <mat-form-field class="form-field">
    <mat-label>Lek</mat-label>
    <mat-select formControlName="medicamentId">
      @for (medicament of medicaments(); track medicament.id) {
        <mat-option [value]="medicament.id">{{ medicament.name }} ({{ getMedicamentTypeName(medicament.medicamentType) }})</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <mat-form-field class="form-field">
    <mat-label>Ilość</mat-label>
    <input matInput type="number" formControlName="quantity" min="1" step="1"/>
  </mat-form-field>
  <mat-form-field class="form-field">
    <mat-label>Jednostka miary</mat-label>
    <mat-select formControlName="medicamentUnit">
      @for (unit of medicamentUnitOptions; track unit.value) {
        <mat-option [value]="unit.value">{{ unit.label }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <mat-form-field class="text-area">
    <mat-label>Dawkowanie</mat-label>
    <textarea matInput formControlName="dosage" cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"></textarea>
  </mat-form-field>
  <mat-form-field class="text-area">
    <mat-label>Uwagi</mat-label>
    <textarea matInput formControlName="notes" cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"></textarea>
  </mat-form-field>
  <div class="buttons" mat-dialog-actions>
    <button class="btn-submit" mat-raised-button type="submit" [disabled]="medicamentForm.invalid">Zapisz</button>
    <button class="btn-cancel" mat-button mat-dialog-close type="button" (click)="closeDialog()">Anuluj</button>
  </div>
</form>
